package com.regionaldeals.de;

/**
 * Created by Umi on 28.08.2017.
 */

import android.Manifest;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.pm.PackageManager;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.support.v4.app.ActivityCompat;
import android.support.v7.app.ActionBar;
import android.support.v7.app.AlertDialog;
import android.support.v7.app.AppCompatActivity;
import android.text.Html;
import android.util.Log;
import android.view.View;
import android.view.Window;
import android.view.WindowManager;
import android.widget.CheckBox;
import android.widget.CompoundButton;
import android.widget.TextView;
import android.widget.Toast;

import com.google.gson.Gson;
import com.regionaldeals.de.Utils.JSONParser;
import com.regionaldeals.de.Utils.SharedPreferenceUtils;
import com.regionaldeals.de.entities.CitiesObject;

import org.apache.http.NameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import static com.regionaldeals.de.Constants.CITIES_KEY;
import static com.regionaldeals.de.Constants.LOCATION_KEY;

public class SplashActivity extends AppCompatActivity {
    private final int SPLASH_DISPLAY_LENGTH = 1500;
    private JSONParser jsonParser = new JSONParser();
    public static final int MY_PERMISSION_ACCESS_COURSE_LOCATION = 99;
    private final String URL_Cities = "/mobile/api/device/citieslist";
    private JSONArray data;
    private String[] COUNTRIES;
    private String message = "";
    private StringBuilder sb;
    private List<CitiesObject> city = new ArrayList<>();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_splash);

        SharedPreferenceUtils.getInstance(this);

        ActionBar actionBar = getSupportActionBar();
        if (null != actionBar) {
            actionBar.hide();
        }

        createDialogue();

    }
    public void createDialogue() {
        AlertDialog.Builder mBuilder = new AlertDialog.Builder(SplashActivity.this);
        View mView = getLayoutInflater().inflate(R.layout.dialogue_checkbox, null);
        CheckBox mCheckBox = mView.findViewById(R.id.checkBox);
        TextView tv = mView.findViewById(R.id.tvDiaogue);
        tv.setText(Html.fromHtml(getString(R.string.datahtml)));
        mBuilder.setTitle("Datenschutzerkl√§rung");
        mBuilder.setView(mView);
        mBuilder.setPositiveButton("Agree", new DialogInterface.OnClickListener() {
            @Override
            public void onClick(DialogInterface dialogInterface, int i) {
                dialogInterface.dismiss();
                getLocation();
            }
        });

        final AlertDialog mDialog = mBuilder.create();
        mDialog.show();

        mDialog.setCanceledOnTouchOutside(false);

        ((AlertDialog) mDialog).getButton(AlertDialog.BUTTON_POSITIVE)
                .setEnabled(false);

        mCheckBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
            @Override
            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {
                if(compoundButton.isChecked()){
                    ((AlertDialog) mDialog).getButton(AlertDialog.BUTTON_POSITIVE)
                            .setEnabled(true);
                }else{
                    ((AlertDialog) mDialog).getButton(AlertDialog.BUTTON_POSITIVE)
                            .setEnabled(false);
                }
            }
        });
    }

    class loadCities extends AsyncTask<String, String, String> {
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
        }

        protected String doInBackground(String... args) {
            sb = new StringBuilder();
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            String json = jsonParser.makeHttpRequest(getString(R.string.apiUrl) + URL_Cities, "GET",
                    params);
            Log.d("JSON: ", "> " + json);
            try {
                JSONObject jsonObj = new JSONObject(json);
                data = jsonObj.getJSONArray("data");
                message = jsonObj.getString("message");
                city.clear();
                COUNTRIES = new String[data.length()];
                for (int i = 0; i < data.length(); i++) {
                    JSONObject result = (JSONObject) data.get(i);
                    CitiesObject c = new CitiesObject();
                    c.setCityName(result.getString("cityName"));
                    c.setCountryCode(result.getString("countryCode"));
                    c.setId(result.getInt("id"));
                    COUNTRIES[i] = result.getString("cityName");
                    sb.append(COUNTRIES[i]).append(",");
                    if (!result.isNull("cityLat") && !result.isNull("cityLong")) {
                        c.setCityLat(result.getDouble("cityLat"));
                        c.setCityLong(result.getDouble("cityLong"));
                    }
                    city.add(c);
                }
                Arrays.sort(COUNTRIES);

            } catch (JSONException e) {
                e.printStackTrace();
            }
            return null;
        }

        protected void onPostExecute(String file_url) {
            if (message.equals("CITIES_LIST_OK") && COUNTRIES.length > 1) {
                //all good
            } else {
                Arrays.sort(DEFAULTCOUNTRIES);
                for (int i = 0; i < DEFAULTCOUNTRIES.length; i++) {
                    sb.append(DEFAULTCOUNTRIES[i]).append(",");
                }
            }

            SharedPreferences.Editor editor = getSharedPreferences(getString(R.string.sharedPredName), MODE_PRIVATE).edit();
            editor.putString("citiesString", sb.toString());
            Gson gson = new Gson();
            String json = gson.toJson(city);
            editor.putString("citiesObject", json);
            editor.commit();

            runOnUiThread(new Runnable() {
                public void run() {
                    Intent startActivityIntent = new Intent(SplashActivity.this, LocationManual.class);
                    startActivity(startActivityIntent);
                    SplashActivity.this.finish();
                }
            });
        }
    }

    public void getLocation() {
        int status = getPackageManager().checkPermission(android.Manifest.permission.ACCESS_COARSE_LOCATION,
                getPackageName());
        if (status == PackageManager.PERMISSION_GRANTED) {
            nextFlow();
        } else {
            ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.ACCESS_COARSE_LOCATION,
                            Manifest.permission.ACCESS_FINE_LOCATION},
                    MY_PERMISSION_ACCESS_COURSE_LOCATION);
        }
    }

    @Override
    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {
        switch (requestCode) {
            case MY_PERMISSION_ACCESS_COURSE_LOCATION: {
                // If request is cancelled, the result arrays are empty.
                if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                    // permission was granted, yay!
                    getLocation();
                } else {
                    Toast.makeText(this, "Cannot get user location", Toast.LENGTH_SHORT).show();
                    nextFlow();
                }
                return;
            }
        }
    }


    private void nextFlow() {

        String restoredText = SharedPreferenceUtils.getInstance(this).getStringValue(LOCATION_KEY, null);
        String restoredCities = SharedPreferenceUtils.getInstance(this).getStringValue(CITIES_KEY, null);

        if (restoredText != null) {
            new Handler().postDelayed(new Runnable() {
                @Override
                public void run() {
                    Intent startActivityIntent = new Intent(SplashActivity.this, MainActivity.class);
                    if (getIntent().hasExtra("notificationBody")) {
                        String body = getIntent().getStringExtra("notificationBody");
                        startActivityIntent.putExtra("notificationBody", body);
                    } else if (getIntent().hasExtra("dealids")) {     //should be redirect = true
                        String body = getIntent().getStringExtra("dealids");
                        startActivityIntent.putExtra("notificationBody", body);
                    } else if (getIntent().hasExtra("notificationGut")) {
                        String body = getIntent().getStringExtra("notificationGut");
                        startActivityIntent.putExtra("notificationGut", body);
                    } else if (getIntent().hasExtra("gutscheinid")) {
                        String body = getIntent().getStringExtra("notificationGut");
                        startActivityIntent.putExtra("notificationGut", body);
                    }
                    startActivity(startActivityIntent);
                    SplashActivity.this.finish();
                }
            }, SPLASH_DISPLAY_LENGTH);
        } else if (restoredCities != null) {
            new Handler().postDelayed(new Runnable() {
                @Override
                public void run() {
                    Intent startActivityIntent = new Intent(SplashActivity.this, LocationManual.class);
                    startActivity(startActivityIntent);
                    SplashActivity.this.finish();
                }
            }, SPLASH_DISPLAY_LENGTH);
        } else {
            new Handler().postDelayed(new Runnable() {
                @Override
                public void run() {
                    new SplashActivity.loadCities().execute();
                }
            }, SPLASH_DISPLAY_LENGTH - 500);
        }
    }

    // an array with countries to display in the list
    private static String[] DEFAULTCOUNTRIES = new String[]
            {
                    "Aachen",
                    "Augsburg",
                    "Bergisch",
                    "Berlin",
                    "Bielefeld",
                    "Bochum",
                    "Bonn",
                    "Bottrop",
                    "Braunschweig",
                    "Bremen",
                    "Bremerhaven",
                    "Chemnitz",
                    "Cottbus",
                    "Darmstadt",
                    "Dessau-Ro√ülau",
                    "Dortmund",
                    "Dresden",
                    "Duisburg",
                    "D√ºren",
                    "D√ºsseldorf",
                    "Erfurt",
                    "Erlangen",
                    "Essen",
                    "Esslingen",
                    "Flensburg",
                    "Frankfurt",
                    "Freiburg",
                    "F√ºrth",
                    "Gelsenkirchen",
                    "Gera",
                    "Gladbach",
                    "G√∂ttingen",
                    "G√ºtersloh",
                    "Hagen",
                    "Halle",
                    "Hamburg",
                    "Hamm",
                    "Hanau",
                    "Hannover",
                    "Heidelberg",
                    "Heilbronn",
                    "Herne",
                    "Hildesheim",
                    "Ingolstadt",
                    "Iserlohn",
                    "Jena",
                    "Kaiserslautern",
                    "Karlsruhe",
                    "Kassel",
                    "Kiel",
                    "Koblenz",
                    "Krefeld",
                    "K√∂ln",
                    "Leipzig",
                    "Leverkusen",
                    "Ludwigsburg",
                    "Ludwigshafen",
                    "L√ºbeck",
                    "L√ºnen",
                    "Magdeburg",
                    "Mainz",
                    "Mannheim",
                    "Marl",
                    "Minden",
                    "Moers",
                    "M√∂nchengladbach",
                    "M√ºlheim",
                    "M√ºnchen",
                    "M√ºnster",
                    "Neuss",
                    "N√ºrnberg",
                    "Oberhausen",
                    "Offenbach",
                    "Oldenburg",
                    "Osnabr√ºck",
                    "Paderborn",
                    "Pforzheim",
                    "Potsdam",
                    "Ratingen",
                    "Recklinghausen",
                    "Regensburg",
                    "Remscheid",
                    "Reutlingen",
                    "Rostock",
                    "Saarbr√ºcken",
                    "Salzgitter",
                    "Schwerin",
                    "Siegen",
                    "Solingen",
                    "Stuttgart",
                    "Trier",
                    "T√ºbingen",
                    "Ulm",
                    "Velbert",
                    "Villingen-Schwenn.",
                    "Wiesbaden",
                    "Witten",
                    "Wolfsburg",
                    "Wuppertal",
                    "W√ºrzburg",
                    "Zwickau"
            };


    String dataschnutz = "" +
            "A. Allgemeine Hinweise\n" +
            "Geltungsbereich der Datenschutzerkl√§rung\n" +
            "Diese Datenschutzerkl√§rung gilt f√ºr den Besuch und die Nutzung der Website http://www.regionaldeals.de sowie f√ºr die Applikation Regionaldeals.\n" +
            "Verantwortlicher\n" +
            "Wir, Regionaldeals RD e.K. , Inh. Ferit Baycan, Marienstra√üe 11, 52146 W√ºrselen, sind der Verantwortliche im Sinne der EU-DSGVO ‚Äì also das Einzelunternehmen (e.K.), das √ºber die Zwecke und Mittel der Verarbeitung von personenbezogenen Daten entscheidet. Unsere Kontaktdaten lauten: Marienstra√üe 11, 52146 W√ºrselen, Tel.: +49 (0) [XXX], E-Mail: [XXX]\n" +
            "Ansprechpartner f√ºr alle Belange des Datenschutzes in unserem Hause ist: Ferit Baycan\n" +
            "Weiterverarbeitung f√ºr einen anderen Zweck\n" +
            "Die Zwecke, f√ºr die wir Ihre personenbezogenen Daten verarbeiten, werden im Abschnitt B. beschrieben. Sofern wir eine Weiterverarbeitung Ihrer personenbezogenen Daten f√ºr einen anderen Zweck ‚Äì also nicht f√ºr denjenigen, f√ºr den die personenbezogenen Daten urspr√ºnglich erhoben wurden ‚Äì beabsichtigen, werden wir Sie erneut informieren. \n" +
            "Pflicht zur Bereitstellung / Erforderlichkeit von personenbezogenen Daten f√ºr Kontaktaufnahme\n" +
            "Die Bereitstellung der personenbezogenen Daten ist gesetzlich nicht vorgeschrieben. Allerdings sind die f√ºr die Bearbeitung einer Anfrage √ºber unser Kontaktformular erforderlichen Daten wie Name, Vorname und E-Mail-Adresse anzugeben. Ohne diese sind wir nicht in der Lage, Ihre Anfrage zu bearbeiten. \n" +
            "B. Verarbeitung Ihrer personenbezogenen Daten \n" +
            "1. Informationen, die Sie uns mitteilen\n" +
            "Pflichtangaben als Kunde und als Nutzer\n" +
            "Um unsere Dienste erbringen zu k√∂nnen, ben√∂tigen wir bestimmte Angaben von Ihnen. Wenn Sie sich bei uns als Nutzer registrieren, ben√∂tigen wir nur Ihre E-Mail-Adresse,Name und Vorname . Wenn Sie sich als Kunde registrieren, das hei√üt unsere kostenpflichtigen Dienste in Anspruch nehmen, dann ben√∂tigen wir zur Abwicklung des Vertragsverh√§ltnisses idR. Ihren Namen, Vornamen, Gesch√§ftsname, Ihre Adresse, Ihre Telefonnummer, Ihre E-Mail-Adress,und Steuernummer.\n" +
            "Speicherdauer\n" +
            "Wir l√∂schen diese Daten, wenn Sie als Nutzer Ihr Nutzerkonto l√∂schen bzw. wenn Sie Kunde sind, in dem Zeitpunkt, in dem das zwischen uns bestehende Vertragsverh√§ltnis beendet wird. \n" +
            "Rechtsgrundlage\n" +
            "Rechtsgrundlage f√ºr diese Verarbeitung personenbezogener Daten ist Art. 6 I b) EU-DSGVO.\n" +
            "\n" +
            "2. Informationen, die wir auf Grund Ihrer Nutzung unserer Website automatisch erhalten\n" +
            "W√§hrend Sie unsere Website und die Regionaldeals Applikation nutzen oder besuchen, werden automatisch Daten von Ihnen gesammelt. \n" +
            "Durchf√ºhrung des Speicherung\n" +
            "Wir sammeln Cookies und  Daten zur Bereitstellung unserer Dienste und zur Auswertung des Nutzerverhaltens sowie zu statistischen Zwecken. Es werden Zugriffsdaten (z. B. Datum und Uhrzeit des Besuches, Referrer, IP-Adresse, Cookie-ID, Standort-Daten, Produkt- und Versionsinformationen des verwendeten Browsers bzw. der verwendeten App, Ger√§tekennungen oder Ger√§tedaten) sowie Interaktionsdaten (z. B. angesehene Seiten oder durchgef√ºhrte Suchanfragen) verarbeitet. Um Sie als Nutzer w√§hrend Ihres Besuchs unserer Website identifizieren zu k√∂nnen, setzen wir sogenannte Session-Cookies ein. Diese Session-Cookies werden nach dem Ende der jeweiligen Sitzung automatisch gel√∂scht. Diese Cookies sind erforderlich, um unsere Website nutzen zu k√∂nnen. \n" +
            "Die Speicherung von Cookies k√∂nnen Sie √ºber Ihre Browser-Einstellungen verhindern.\n" +
            "Zwecke des Speicherns \n" +
            "Gew√§hrleistung der Sicherheit\n" +
            "Das Speichern erfolgt unter anderem zur Gew√§hrleistung und zur Wahrung des berechtigten Interesses des Schutzes der Nutzer, der Sicherheit der Nutzerdaten, als auch unserer Website. Hierzu speichern wir die erhobenen Daten f√ºr bis zu 90 Tage in vollst√§ndiger Form. Zugriff auf diese Daten haben nur wenige unserer Mitarbeiter mit entsprechenden Zugriffsrechten. Rechtsgrundlage f√ºr diese Verarbeitung personenbezogener Daten ist Art. 6 I f) EU-DSGVO.\n" +
            "Bereitstellung unseres Dienstes\n" +
            "Das Speichern und die Analyse des Nutzerverhaltens hilft uns, die Effektivit√§t unseres Dienstes zu √ºberpr√ºfen und zu optimieren sowie Fehler zu beheben. Wir versuchen unsere Produkte und Dienstleistungen stets an die Bed√ºrfnisse der Nutzer anzupassen. \n" +
            "3. Weitergabe Ihrer Daten an Dritte\n" +
            "Wir geben Ihre personenbezogenen Daten grunds√§tzlich nicht an Dritte weiter, es sei denn dass wir gesetzlich oder aufgrund einer gerichtlichen oder beh√∂rdlichen Anordnung dazu verpflichtet sind. Wenn wir im Rahmen der Datenverarbeitung mit externen Dienstleistern zusammenarbeiten (z. B. bei der Analyse des Nutzerverhaltens), erfolgt dies in der Regel auf Basis einer sogenannten Auftragsverarbeitung, bei der wir f√ºr die Datenverarbeitung verantwortlich bleiben. Wir pr√ºfen jeden dieser Dienstleister vorher auf die von ihm zum Datenschutz und zur Datensicherheit getroffenen Ma√ünahmen und stellen so die gesetzlich vorgesehenen vertraglichen Regelungen zum Schutz der personenbezogenen Daten sicher.\n" +
            "\n" +
            "C. Ihre Rechte\n" +
            "Ihnen stehen unter anderem gesetzliche Anspr√ºche auf Auskunft, Berichtigung, L√∂schung (nach Beantragung), Einschr√§nkung der Verarbeitung und Widerspruch gegen die Verarbeitung sowie ein Recht auf Daten√ºbertragbarkeit zu. Au√üerdem k√∂nnen Sie eine gegebenenfalls abgegebene Einwilligung in die Verarbeitung jederzeit widerrufen und sich bei einer Aufsichtsbeh√∂rde beschweren.\n" +
            "Widerspruchsrecht\n" +
            "Sie haben das Recht, jederzeit gegen die Verarbeitung Sie betreffender personenbezogener Daten, die gem√§√ü Art. 6 Abs. 1 Buchst. f) EU-DSGVO erfolgt, Widerspruch einzulegen. Bitte nutzen Sie f√ºr Ihren Widerspruch unser Kontaktformular oder senden Sie uns eine E-Mail.\n" +
            "Auskunftsrecht\n" +
            "Sie haben das Recht, von uns eine Best√§tigung dar√ºber zu verlangen, ob wir Sie betreffende personenbezogene Daten verarbeiten. Ist dies der Fall, so haben Sie ein Recht auf Auskunft √ºber diese personenbezogenen Daten.\n" +
            "Berichtigungsrecht\n" +
            "Sie haben das Recht, von uns unverz√ºglich die Berichtigung Sie betreffender unrichtiger personenbezogener Daten zu verlangen. Unter Ber√ºcksichtigung der Zwecke der Verarbeitung haben Sie das Recht, die Vervollst√§ndigung unvollst√§ndiger personenbezogener Daten ‚Äì auch mittels einer erg√§nzenden Erkl√§rung ‚Äì zu verlangen.\n" +
            "Recht auf L√∂schung\n" +
            "Sie haben das Recht, von uns zu verlangen, dass Sie betreffende personenbezogenen Daten unverz√ºglich gel√∂scht werden, sofern einer der folgenden Gr√ºnde zutrifft: Die personenbezogenen Daten sind f√ºr die Zwecke, f√ºr die sie erhoben oder auf sonstige Weise verarbeitet wurden, nicht mehr notwendig. Sie widerrufen ihre Einwilligung, auf die sich die Verarbeitung gem√§√ü Art. 6 Absatz 1 Buchstabe a oder Art. 9 Absatz 2 Buchstabe a EU-DSGVO st√ºtzte, und es fehlt an einer anderweitigen Rechtsgrundlage f√ºr die Verarbeitung. Sie legen gem√§√ü Art. 21 Absatz 1 EU-DSGVO Widerspruch gegen die Verarbeitung ein und es liegen keine vorrangigen berechtigten Gr√ºnde f√ºr die Verarbeitung vor, oder Sie legen gem√§√ü Art. 21 Absatz 2 EU-DSGVO Widerspruch gegen die Verarbeitung ein. Die personenbezogenen Daten wurden unrechtm√§√üig verarbeitet. Die L√∂schung der personenbezogenen Daten ist zur Erf√ºllung einer rechtlichen Verpflichtung nach dem Unionsrecht oder dem Recht der Mitgliedstaaten erforderlich, dem wir unterliegen. Die personenbezogenen Daten wurden in Bezug auf direkt einem Kind angebotene Dienste der Informationsgesellschaft gem√§√ü Art. 8 Absatz 1 EU-DSGVO erhoben. Nach Ihrer Aufforderung sind wir zu einer unverz√ºglichen L√∂schung der entsprechenden Daten verpflichtet. Die Rechtm√§√üigkeit der aufgrund der Einwilligung bis zum Widerruf erfolgten Verarbeitung bleibt unber√ºhrt.\n" +
            "Recht auf Einschr√§nkung der Verarbeitung\n" +
            "Sie sind berechtigt, eine Einschr√§nkung bei der Verarbeitung Ihrer personenbezogenen Daten zu verlangen, wenn die Richtigkeit der personenbezogenen Daten von Ihnen bestritten wird, und zwar f√ºr die Dauer, die es dem Verantwortlichen erm√∂glicht, die Richtigkeit der personenbezogenen Daten zu √ºberpr√ºfen. Sofern die Verarbeitung unrechtm√§√üig ist und Sie die L√∂schung der personenbezogenen Daten ablehnen und stattdessen die Einschr√§nkung der Nutzung der personenbezogenen Daten von uns verlangen, folgen wir der Aufforderung. Die Einschr√§nkung der Verarbeitung erfolgt auch dann, falls wir Ihre personenbezogenen Daten f√ºr Zwecke der Verarbeitung nicht l√§nger ben√∂tigen, sie diese aber zur Geltendmachung, Aus√ºbung oder Verteidigung von eigenen Rechtsanspr√ºche ben√∂tigen, oder Sie Widerspruch gegen die Verarbeitung gem√§√ü Art. 21 Abs. 1 EU-DSGVO eingelegt haben, solange noch nicht feststeht ob die berechtigten Gr√ºnde des Verantwortlichen gegen√ºber ihren Gr√ºnden √ºberwiegen. Sie werden von uns unterrichtet, bevor die Einschr√§nkung aufgehoben wird.\n" +
            "Recht auf Daten√ºbertragbarkeit\n" +
            "Sie haben das Recht, die Sie betreffenden personenbezogenen Daten, die Sie uns bereitgestellt haben, in einem strukturierten, g√§ngigen und maschinenlesbaren Format zu erhalten, und haben das Recht, diese Daten einem anderen Verantwortlichen ohne Behinderung durch uns, denen die personenbezogenen Daten bereitgestellt wurden, zu √ºbermitteln. Voraussetzung ist, dass a) die Verarbeitung auf einer Einwilligung gem√§√ü Art. 6 Abs. 1 Buchst. a) EU-DSGVO oder Art. 9 Abs. 2 Buchst. a) EU-DSGVO oder auf einem Vertrag gem√§√ü Art. 6 Abs. 1 Buchst. b) EU-DSGVO beruht und b) die Verarbeitung mithilfe automatisierter Verfahren erfolgt. Bei der Aus√ºbung des Rechts auf Daten√ºbertragbarkeit haben Sie das Recht zu fordern, dass die personenbezogenen Daten direkt von uns an eine andere verantwortliche Stelle √ºbermittelt werden, soweit dies technisch machbar ist.\n" +
            "Widerrufsrecht bei Einwilligung\n" +
            "Soweit die Verarbeitung auf Ihrer Einwilligung beruht, haben Sie das Recht, die Einwilligung jederzeit zu widerrufen. Die Rechtm√§√üigkeit der aufgrund der Einwilligung bis zum Widerruf erfolgten Verarbeitung wird dadurch nicht ber√ºhrt.\n" +
            "Beschwerderecht\n" +
            "Sie haben ein Beschwerderecht bei der f√ºr unser Unternehmen zust√§ndigen Aufsichtsbeh√∂rde. Die f√ºr unser Unternehmen zust√§ndige Aufsichtsbeh√∂rde ist: Landesbeauftragte f√ºr Datenschutz und Informationsfreiheit Nordrhein-Westfalen, Kavalleriestr. 2-4, 40213 D√ºsseldorf, Telefon: 0211/38424-0, Fax: 0211/38424-10, E-Mail: poststelle@ldi.nrw.de.\n" +
            "D. Begriffe, die in unserer Datenschutzerkl√§rung vorkommen\n" +
            "EU-DSGVO: Die Verordnung (EU) 2016/679 des Europ√§ischen Parlaments und des Rates vom 27. April 2016 zum Schutz nat√ºrlicher Personen bei der Verarbeitung personenbezogener Daten, zum freien Datenverkehr und zur Aufhebung der Richtlinie 95/46/EG (Datenschutz-Grundverordnung).\n" +
            "Personenbezogene Daten: Gem√§√ü Art. 4 Ziffer 1 EU-DSGVO alle Informationen, die sich auf eine identifizierte oder identifizierbare nat√ºrliche Person beziehen; als identifizierbar wird eine nat√ºrliche Person angesehen, die direkt oder indirekt, insbesondere mittels Zuordnung zu einer Kennung wie einem Namen, zu einer Kennnummer, zu Standortdaten, zu einer Online-Kennung oder zu einem oder mehreren besonderen Merkmalen identifiziert werden kann, die Ausdruck der physischen, physiologischen, genetischen, psychischen, wirtschaftlichen, kulturellen oder sozialen Identit√§t dieser nat√ºrlichen Person sind.\n" +
            "Cookies: Kleine Dateien, die es uns erm√∂glichen, auf Ihrem Endger√§t spezifische, auf Sie, den Nutzer, bezogene Informationen zu ermitteln. Die Speicherung von Cookies k√∂nnen Sie √ºber Ihre Browser-Einstellungen verhindern.\n";

}